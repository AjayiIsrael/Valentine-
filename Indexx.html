<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Be My Valentine ğŸ’˜</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&family=Pacifico&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg1:#ffe6ee;
      --bg2:#ffd1dc;
      --card:#ffffffcc;
      --text:#4b1230;
      --yes:#ff4d6d;
      --yes2:#ff7a90;
      --no:#ffd6de;
      --shadow: 0 18px 45px rgba(0,0,0,.12);
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      font-family: Poppins, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background: radial-gradient(circle at 20% 20%, var(--bg1), var(--bg2));
      overflow:hidden; /* keeps the runaway button inside viewport nicely */
    }

    /* Floating hearts (subtle) */
    .hearts {
      position: fixed;
      inset: 0;
      pointer-events: none;
      opacity: .35;
    }
    .heart {
      position:absolute;
      font-size: 18px;
      animation: floatUp linear infinite;
      filter: drop-shadow(0 4px 8px rgba(0,0,0,.15));
      user-select:none;
    }
    @keyframes floatUp{
      from{ transform: translateY(20vh) translateX(0) scale(1); opacity:0;}
      10%{opacity:1;}
      to{ transform: translateY(-120vh) translateX(40px) scale(1.2); opacity:0;}
    }

    .wrap{
      position:relative;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
    }

    .card{
      width:min(680px, 95vw);
      background: var(--card);
      backdrop-filter: blur(8px);
      border: 1px solid rgba(255,255,255,.6);
      box-shadow: var(--shadow);
      border-radius: 28px;
      padding: 28px 22px 22px;
      text-align:center;
      position:relative;
    }

    .badge{
      font-family: Pacifico, cursive;
      font-size: 22px;
      margin: 0 0 6px;
      opacity:.9;
    }

    h1{
      margin: 0 0 14px;
      font-size: clamp(26px, 4.6vw, 44px);
      line-height: 1.1;
      font-weight: 800;
      letter-spacing: -0.02em;
    }

    .gif{
      width: min(360px, 78vw);
      aspect-ratio: 1 / 1;
      object-fit: cover;
      border-radius: 22px;
      box-shadow: 0 10px 28px rgba(0,0,0,.14);
      border: 4px solid rgba(255,255,255,.65);
      margin: 10px auto 18px;
      display:block;
      background:#fff;
    }

    .sub{
      margin: 0 auto 18px;
      max-width: 52ch;
      font-size: 15px;
      opacity:.9;
    }

    .buttons{
      display:flex;
      gap: 14px;
      justify-content:center;
      flex-wrap:wrap;
      margin-top: 10px;
    }

    button{
      border: 0;
      padding: 14px 20px;
      border-radius: 999px;
      font-weight: 700;
      font-size: 16px;
      cursor:pointer;
      transition: transform .12s ease, box-shadow .12s ease, filter .12s ease;
      min-width: 160px;
    }

    button:active{ transform: translateY(1px) scale(0.99); }

    #yesBtn{
      color:white;
      background: linear-gradient(135deg, var(--yes), var(--yes2));
      box-shadow: 0 12px 24px rgba(255,77,109,.35);
      position: relative;
    }
    #yesBtn:hover{
      transform: translateY(-2px) scale(1.03);
      filter: brightness(1.03);
    }
    /* little sparkle pulse */
    #yesBtn::after{
      content:"âœ¨";
      position:absolute;
      right: 14px;
      top: 50%;
      transform: translateY(-50%);
      opacity:.9;
      animation: twinkle 1.4s ease-in-out infinite;
    }
    @keyframes twinkle{ 0%,100%{opacity:.35} 50%{opacity:1} }

    /* NO button is positioned absolutely once JS kicks in */
    #noBtn{
      background: var(--no);
      color: var(--text);
      box-shadow: 0 10px 22px rgba(0,0,0,.10);
    }

    .footerNote{
      margin-top: 14px;
      font-size: 12.5px;
      opacity:.75;
    }

    /* Success overlay */
    .overlay{
      position: fixed;
      inset: 0;
      display:none;
      align-items:center;
      justify-content:center;
      padding: 24px;
      background: rgba(255, 214, 222, .35);
      backdrop-filter: blur(6px);
      z-index: 50;
    }
    .overlay.show{ display:flex; }
    .successCard{
      width:min(720px, 96vw);
      background: rgba(255,255,255,.92);
      border: 1px solid rgba(255,255,255,.7);
      box-shadow: var(--shadow);
      border-radius: 28px;
      padding: 24px 22px;
      text-align:center;
    }
    .successCard h2{
      margin: 0 0 10px;
      font-size: clamp(22px, 4.2vw, 40px);
      font-weight: 800;
    }
    .successCard p{
      margin: 0 0 16px;
      font-size: 15px;
      opacity:.9;
    }
    .mini{
      font-size: 12px;
      opacity:.65;
    }

    canvas#confetti{
      position: fixed;
      inset: 0;
      pointer-events:none;
      z-index: 60;
      display:none;
    }
    canvas#confetti.show{ display:block; }

    /* Accessibility fallback */
    @media (prefers-reduced-motion: reduce){
      .heart, #yesBtn::after { animation: none !important; }
      button { transition:none; }
    }
  </style>
</head>

<body>
  <!-- Floating hearts layer -->
  <div class="hearts" id="hearts"></div>

  <div class="wrap">
    <main class="card" id="card">
      <div class="badge">ğŸ’Œ A very important questionâ€¦</div>
      <h1 id="question">Will you be my Valentine? ğŸ’–</h1>

      <!-- Replace these GIF URLs with your preferred ones -->
      <img
        id="mainGif"
        class="gif"
        alt="Cute begging gif"
        src="https://media.giphy.com/media/3oriO0OEd9QIDdllqo/giphy.gif"
      />

      <p class="sub" id="subtext">
        Please donâ€™t say noâ€¦ Iâ€™m literally begging ğŸ¥º
      </p>

      <div class="buttons" id="buttonsRow">
        <button id="yesBtn" type="button">Yes ğŸ’•</button>
        <button id="noBtn" type="button">No ğŸ˜</button>
      </div>

      <div class="footerNote">Tip: try clicking â€œNoâ€â€¦ if you can ğŸ˜Œ</div>
    </main>
  </div>

  <canvas id="confetti"></canvas>

  <div class="overlay" id="overlay">
    <div class="successCard">
      <h2 id="successTitle">YAYYY!! ğŸ’˜</h2>
      <p id="successMsg">You just made me the happiest person â¤ï¸</p>
      <div class="mini">Screenshot this so I can frame it ğŸ˜Œ</div>
    </div>
  </div>

  <script>
    // ====== Customize easily here ======
    const CONFIG = {
      questionText: "Will you be my Valentine? ğŸ’–",
      subText: "Please donâ€™t say noâ€¦ Iâ€™m literally begging ğŸ¥º",

      // GIFs (replace with your picks)
      beggingGif: "https://media.giphy.com/media/3oriO0OEd9QIDdllqo/giphy.gif",
      celebrationGif: "https://media.giphy.com/media/26u4nJPf0JtQPdStq/giphy.gif",

      yesLabel: "Yes ğŸ’•",
      noLabel: "No ğŸ˜",

      // The No button mischief
      noPhrases: [
        "No ğŸ˜",
        "Waitâ€” ğŸ˜³",
        "Try again ğŸ˜­",
        "Wrong one ğŸ˜…",
        "You sure? ğŸ¥º",
        "Pleaseee ğŸ˜©",
        "Stop chasing me ğŸ˜­",
        "Not that ğŸ˜¤"
      ],
      movePadding: 12,
      shrinkMinScale: 0.45,       // how tiny it can get
      shrinkStep: 0.06,           // shrink per evade
      maxEvadesBeforeTiny: 8      // after this it becomes almost impossible
    };

    // ====== DOM ======
    const question = document.getElementById("question");
    const subtext = document.getElementById("subtext");
    const mainGif = document.getElementById("mainGif");
    const yesBtn = document.getElementById("yesBtn");
    const noBtn = document.getElementById("noBtn");
    const buttonsRow = document.getElementById("buttonsRow");
    const overlay = document.getElementById("overlay");
    const confettiCanvas = document.getElementById("confetti");
    const heartsLayer = document.getElementById("hearts");

    // Apply initial copy
    question.textContent = CONFIG.questionText;
    subtext.textContent = CONFIG.subText;
    mainGif.src = CONFIG.beggingGif;
    yesBtn.textContent = CONFIG.yesLabel;
    noBtn.textContent = CONFIG.noLabel;

    // ====== Floating hearts generator ======
    function spawnHearts(count = 18){
      const emojis = ["ğŸ’–","ğŸ’˜","ğŸ’—","ğŸ’•","ğŸ’","ğŸ’“"];
      for(let i=0;i<count;i++){
        const el = document.createElement("div");
        el.className = "heart";
        el.textContent = emojis[Math.floor(Math.random()*emojis.length)];
        el.style.left = Math.random()*100 + "vw";
        el.style.bottom = (-10 - Math.random()*20) + "vh";
        el.style.animationDuration = (7 + Math.random()*7) + "s";
        el.style.animationDelay = (Math.random()*6) + "s";
        el.style.fontSize = (14 + Math.random()*18) + "px";
        heartsLayer.appendChild(el);
      }
    }
    spawnHearts(22);

    // ====== Make NO button "run away" ======
    let evades = 0;
    let noScale = 1;

    // place noBtn absolutely but visually still in the same area
    function primeNoButtonPosition(){
      const rowRect = buttonsRow.getBoundingClientRect();
      const noRect = noBtn.getBoundingClientRect();

      // convert to fixed positioning for easy viewport moves
      noBtn.style.position = "fixed";
      noBtn.style.left = (noRect.left) + "px";
      noBtn.style.top = (noRect.top) + "px";
      noBtn.style.zIndex = "20";
    }

    function clamp(n, min, max){ return Math.max(min, Math.min(max, n)); }

    function moveNoButton(){
      evades++;

      const padding = CONFIG.movePadding;
      const btnRect = noBtn.getBoundingClientRect();
      const vw = window.innerWidth;
      const vh = window.innerHeight;

      // keep within viewport
      const maxLeft = vw - btnRect.width - padding;
      const maxTop = vh - btnRect.height - padding;

      const newLeft = clamp(Math.random() * vw, padding, maxLeft);
      const newTop  = clamp(Math.random() * vh, padding, maxTop);

      noBtn.style.left = newLeft + "px";
      noBtn.style.top = newTop + "px";
      noBtn.style.transition = "left .14s ease-out, top .14s ease-out, transform .14s ease-out";

      // change label
      const phrase = CONFIG.noPhrases[evades % CONFIG.noPhrases.length];
      noBtn.textContent = phrase;

      // shrink gradually (but not too early)
      if(evades <= CONFIG.maxEvadesBeforeTiny){
        noScale = Math.max(CONFIG.shrinkMinScale, noScale - CONFIG.shrinkStep);
      } else {
        noScale = Math.max(0.25, noScale - 0.02);
      }
      noBtn.style.transform = `scale(${noScale})`;
    }

    // We prime after the layout paints
    window.addEventListener("load", () => {
      primeNoButtonPosition();
    });

    // On hover or touchstart, it runs
    noBtn.addEventListener("mouseenter", moveNoButton);

    // Mobile: when finger gets near / touches it, run
    noBtn.addEventListener("touchstart", (e) => {
      e.preventDefault();
      moveNoButton();
    }, {passive:false});

    // Make sure it re-clamps on resize
    window.addEventListener("resize", () => {
      // keep it inside viewport if the screen changes
      const rect = noBtn.getBoundingClientRect();
      const padding = CONFIG.movePadding;
      const maxLeft = window.innerWidth - rect.width - padding;
      const maxTop  = window.innerHeight - rect.height - padding;
      noBtn.style.left = clamp(rect.left, padding, maxLeft) + "px";
      noBtn.style.top = clamp(rect.top, padding, maxTop) + "px";
    });

    // Just in case: block clicks (it shouldn't ever get clicked)
    noBtn.addEventListener("click", (e) => {
      e.preventDefault();
      moveNoButton();
    });

    // ====== YES button success ======
    yesBtn.addEventListener("click", () => {
      // Change GIF + show overlay + confetti
      mainGif.src = CONFIG.celebrationGif;
      overlay.classList.add("show");
      runConfetti(1800);

      yesBtn.disabled = true;
      yesBtn.style.filter = "grayscale(.2) brightness(1.02)";
      yesBtn.style.cursor = "default";

      // Hide the runaway no button after success (optional)
      noBtn.style.display = "none";
    });

    overlay.addEventListener("click", () => {
      overlay.classList.remove("show");
      confettiCanvas.classList.remove("show");
    });

    // ====== Minimal confetti (no libs) ======
    function runConfetti(durationMs=1500){
      const ctx = confettiCanvas.getContext("2d");
      confettiCanvas.width = window.innerWidth;
      confettiCanvas.height = window.innerHeight;
      confettiCanvas.classList.add("show");

      const pieces = [];
      const count = 140;

      for(let i=0;i<count;i++){
        pieces.push({
          x: Math.random()*confettiCanvas.width,
          y: -20 - Math.random()*confettiCanvas.height*0.4,
          r: 4 + Math.random()*6,
          vx: -2 + Math.random()*4,
          vy: 2 + Math.random()*5,
          rot: Math.random()*Math.PI,
          vr: -0.12 + Math.random()*0.24,
          // we avoid specifying exact colors; rely on default random grayscale-ish using alpha with globalComposite
          a: 0.7 + Math.random()*0.3
        });
      }

      const start = performance.now();
      function tick(now){
        const t = now - start;
        ctx.clearRect(0,0,confettiCanvas.width, confettiCanvas.height);

        for(const p of pieces){
          p.x += p.vx;
          p.y += p.vy;
          p.rot += p.vr;
          p.vy += 0.03; // gravity

          ctx.save();
          ctx.translate(p.x, p.y);
          ctx.rotate(p.rot);
          ctx.globalAlpha = p.a;

          // draw rectangle confetti with varied alpha
          ctx.fillRect(-p.r, -p.r/2, p.r*2, p.r);
          ctx.restore();
        }

        if(t < durationMs){
          requestAnimationFrame(tick);
        } else {
          confettiCanvas.classList.remove("show");
          ctx.clearRect(0,0,confettiCanvas.width, confettiCanvas.height);
        }
      }
      requestAnimationFrame(tick);
    }
  </script>
</body>
</html>
